# Strike Shop - Production Environment Variables
# This is a comprehensive template for production deployment
# Copy this file to .env.production and fill in your actual values
# SECURITY: Never commit API keys or secrets to version control

# ===== APPLICATION CONFIGURATION =====
NODE_ENV=production
NEXT_PUBLIC_APP_URL=https://your-domain.com
NEXT_PUBLIC_APP_NAME="Strike Shop"
PORT=3000

# ===== MEDUSA BACKEND CONFIGURATION =====
NEXT_PUBLIC_MEDUSA_BACKEND_URL=https://your-medusa-backend.com
NEXT_PUBLIC_MEDUSA_PUBLISHABLE_KEY=pk_prod_your_publishable_key_here
NEXT_PUBLIC_MEDUSA_REGION_ID=reg_your_region_id_here
MEDUSA_API_TOKEN=your_medusa_api_token_here

# ===== DATABASE CONFIGURATION =====
DATABASE_URL=postgresql://user:password@host:5432/database?sslmode=require
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ===== REDIS CONFIGURATION =====
REDIS_URL=redis://user:password@host:6379
REDIS_TLS_URL=rediss://user:password@host:6379

# ===== STRIPE CONFIGURATION =====
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key_here
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here
STRIPE_WEBHOOK_TOLERANCE=300


# ===== CLERK AUTHENTICATION =====
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_live_your_clerk_publishable_key_here
CLERK_SECRET_KEY=sk_live_your_clerk_secret_key_here
CLERK_WEBHOOK_SECRET=svix_webhook_secret_here

# Clerk URLs Configuration
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_SIGN_IN_FALLBACK_REDIRECT_URL=/account
NEXT_PUBLIC_CLERK_SIGN_UP_FALLBACK_REDIRECT_URL=/account

# ===== MONITORING & ANALYTICS =====
# Sentry Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=${VERCEL_GIT_COMMIT_SHA}
SENTRY_AUTH_TOKEN=your_sentry_auth_token_here
SENTRY_ORG=your-sentry-org
SENTRY_PROJECT=your-sentry-project

# Google Analytics
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# Google Tag Manager
NEXT_PUBLIC_GTM_ID=GTM-XXXXXXX

# Facebook Pixel
NEXT_PUBLIC_FACEBOOK_PIXEL_ID=your_facebook_pixel_id

# Hotjar
NEXT_PUBLIC_HOTJAR_ID=your_hotjar_id
NEXT_PUBLIC_HOTJAR_VERSION=6

# PostHog Analytics
NEXT_PUBLIC_POSTHOG_KEY=your_posthog_key
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# ===== CDN & ASSET OPTIMIZATION =====
NEXT_PUBLIC_CDN_URL=https://cdn.your-domain.com
NEXT_PUBLIC_IMAGE_CDN_URL=https://images.your-domain.com
CDN_SECRET_TOKEN=your_cdn_secret_token_here

# ===== EMAIL CONFIGURATION =====
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=apikey
SMTP_PASSWORD=your_sendgrid_api_key_here
FROM_EMAIL=noreply@your-domain.com
REPLY_TO_EMAIL=support@your-domain.com

# ===== SECURITY CONFIGURATION =====
# CORS Configuration
CORS_ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com
ADMIN_CORS=https://admin.your-domain.com

# JWT & Session
JWT_SECRET=your_very_long_random_jwt_secret_here
COOKIE_SECRET=your_very_long_random_cookie_secret_here
SESSION_COOKIE_NAME=strike_shop_session
SESSION_COOKIE_MAX_AGE=86400000

# CSRF Protection
CSRF_TOKEN_SECRET=your_csrf_token_secret_here

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_URI=https://your-domain.com/api/csp-report

# ===== PERFORMANCE CONFIGURATION =====
# Caching
ENABLE_CACHING=true
CACHE_TTL=3600
STALE_WHILE_REVALIDATE=86400

# Compression
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=6

# Image Optimization
IMAGE_OPTIMIZATION_ENABLED=true
IMAGE_QUALITY=85
IMAGE_FORMATS=webp,avif

# ===== FEATURE FLAGS =====
FEATURE_FLAGS_ENABLED=true
FEATURE_FLAG_PROVIDER=launchdarkly
LAUNCHDARKLY_SDK_KEY=your_launchdarkly_sdk_key_here
LAUNCHDARKLY_CLIENT_ID=your_launchdarkly_client_id_here

# ===== LOGGING CONFIGURATION =====
LOG_LEVEL=warn
LOG_FORMAT=json
ENABLE_REQUEST_LOGGING=true
ENABLE_ERROR_LOGGING=true
LOG_SENSITIVE_DATA=false

# Datadog Logging
DATADOG_API_KEY=your_datadog_api_key_here
DATADOG_APP_KEY=your_datadog_app_key_here
DATADOG_SITE=datadoghq.com

# ===== CLOUD STORAGE (AWS S3) =====
AWS_ACCESS_KEY_ID=your_aws_access_key_id_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key_here
AWS_REGION=us-east-1
S3_BUCKET_NAME=your-s3-bucket-name
S3_UPLOAD_BUCKET=your-s3-upload-bucket
S3_CDN_BUCKET=your-s3-cdn-bucket
AWS_CLOUDFRONT_DISTRIBUTION_ID=your_cloudfront_distribution_id

# ===== BACKUP CONFIGURATION =====
ENABLE_AUTOMATED_BACKUPS=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_S3_BUCKET=your-backup-bucket

# ===== HEALTH CHECKS =====
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/api/health
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_FAILURE_THRESHOLD=3

# ===== API KEYS FOR EXTERNAL SERVICES =====
# Payment Gateways
PAYPAL_CLIENT_ID=your_paypal_client_id_here
PAYPAL_CLIENT_SECRET=your_paypal_client_secret_here

# Shipping Providers
SHIPPO_API_KEY=your_shippo_api_key_here
EASYPOST_API_KEY=your_easypost_api_key_here

# Tax Calculation
TAXJAR_API_KEY=your_taxjar_api_key_here
AVALARA_API_KEY=your_avalara_api_key_here

# ===== THIRD-PARTY INTEGRATIONS =====
# Algolia Search
NEXT_PUBLIC_ALGOLIA_APP_ID=your_algolia_app_id_here
NEXT_PUBLIC_ALGOLIA_SEARCH_KEY=your_algolia_search_key_here
ALGOLIA_ADMIN_KEY=your_algolia_admin_key_here
NEXT_PUBLIC_ALGOLIA_INDEX_NAME=products_production

# Intercom
NEXT_PUBLIC_INTERCOM_APP_ID=your_intercom_app_id_here
INTERCOM_ACCESS_TOKEN=your_intercom_access_token_here

# Zendesk
ZENDESK_SUBDOMAIN=your-subdomain
ZENDESK_EMAIL=your-email@domain.com
ZENDESK_API_TOKEN=your_zendesk_api_token_here

# ===== DEPLOYMENT SPECIFIC =====
# Vercel
VERCEL_URL=${VERCEL_URL}
VERCEL_ENV=${VERCEL_ENV}

# Railway
RAILWAY_ENVIRONMENT=${RAILWAY_ENVIRONMENT}
RAILWAY_PUBLIC_DOMAIN=${RAILWAY_PUBLIC_DOMAIN}

# Render
RENDER=${RENDER}
RENDER_SERVICE_NAME=${RENDER_SERVICE_NAME}

# ===== MAINTENANCE MODE =====
MAINTENANCE_MODE=false
MAINTENANCE_MODE_SECRET=your_maintenance_bypass_secret
MAINTENANCE_MODE_ALLOWED_IPS=

# ===== MISC CONFIGURATION =====
# Timezone
TZ=UTC

# Locale
DEFAULT_LOCALE=en-US
SUPPORTED_LOCALES=en-US,en-GB,es-ES,fr-FR

# Currency
DEFAULT_CURRENCY=USD
SUPPORTED_CURRENCIES=USD,EUR,GBP

# API Versioning
API_VERSION=v1
API_DEPRECATION_HEADER=true

# Worker Configuration
WORKER_CONCURRENCY=4
WORKER_MEMORY_LIMIT=512

# Queue Configuration
QUEUE_PROVIDER=bullmq
QUEUE_REDIS_URL=${REDIS_URL}

# Webhook Configuration
WEBHOOK_TIMEOUT=30000
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=5000

# ===== DEVELOPMENT TOOLS (Disable in Production) =====
ENABLE_DEBUG_MODE=false
ENABLE_PROFILING=false
ENABLE_SOURCE_MAPS=false
NEXT_TELEMETRY_DISABLED=1