# ===================================
# STRIKE SHOP PRODUCTION ENVIRONMENT
# ===================================

# Core Configuration
NODE_ENV=production
PORT=9000
APP_URL=https://shop.strikebrand.com
API_URL=https://api.strikebrand.com

# Database Configuration (Railway)
DATABASE_URL=${{Postgres.DATABASE_URL}}
DATABASE_POOL_MIN=10
DATABASE_POOL_MAX=50
DATABASE_SSL=true
DATABASE_SSL_REJECT_UNAUTHORIZED=false

# Redis Configuration (Railway)
REDIS_URL=${{Redis.REDIS_URL}}
REDIS_TLS=true
CACHE_TTL=3600
SESSION_TTL=86400

# Medusa Configuration
MEDUSA_BACKEND_URL=https://${{RAILWAY_PUBLIC_DOMAIN}}
MEDUSA_WORKER_MODE=server
STORE_CORS=https://shop.strikebrand.com,https://www.strikebrand.com
ADMIN_CORS=https://admin.strikebrand.com,https://${{RAILWAY_PUBLIC_DOMAIN}}
AUTH_CORS=https://shop.strikebrand.com,https://admin.strikebrand.com

# Security Secrets (Use Railway Secrets)
JWT_SECRET=${{JWT_SECRET}}
COOKIE_SECRET=${{COOKIE_SECRET}}
ENCRYPTION_KEY=${{ENCRYPTION_KEY}}

# Stripe Production Keys
STRIPE_API_KEY=${{STRIPE_LIVE_API_KEY}}
STRIPE_WEBHOOK_SECRET=${{STRIPE_LIVE_WEBHOOK_SECRET}}
STRIPE_WEBHOOK_TOLERANCE=300

# Sanity CMS
NEXT_PUBLIC_SANITY_PROJECT_ID=${{SANITY_PROJECT_ID}}
NEXT_PUBLIC_SANITY_DATASET=production
SANITY_API_TOKEN=${{SANITY_API_TOKEN}}
SANITY_WEBHOOK_SECRET=${{SANITY_WEBHOOK_SECRET}}

# Clerk Authentication
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=${{CLERK_PUBLISHABLE_KEY}}
CLERK_SECRET_KEY=${{CLERK_SECRET_KEY}}
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/account
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/account

# CDN Configuration
CDN_URL=https://cdn.strikebrand.com
CDN_API_KEY=${{CDN_API_KEY}}
CLOUDFLARE_ZONE_ID=${{CLOUDFLARE_ZONE_ID}}
CLOUDFLARE_API_TOKEN=${{CLOUDFLARE_API_TOKEN}}

# Storage Configuration (S3)
AWS_ACCESS_KEY_ID=${{AWS_ACCESS_KEY_ID}}
AWS_SECRET_ACCESS_KEY=${{AWS_SECRET_ACCESS_KEY}}
AWS_REGION=us-west-2
S3_BUCKET_NAME=strike-shop-assets
S3_ENDPOINT=https://s3.us-west-2.amazonaws.com
ENABLE_S3_STORAGE=true

# Email Configuration
SMTP_HOST=${{SMTP_HOST}}
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=${{SMTP_USER}}
SMTP_PASSWORD=${{SMTP_PASSWORD}}
FROM_EMAIL=noreply@strikebrand.com
SUPPORT_EMAIL=support@strikebrand.com

# Monitoring & Observability
SENTRY_DSN=${{SENTRY_DSN}}
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

DATADOG_API_KEY=${{DATADOG_API_KEY}}
DATADOG_APP_KEY=${{DATADOG_APP_KEY}}
DATADOG_SITE=datadoghq.com
DD_ENV=production
DD_SERVICE=strike-shop
DD_VERSION=${{RAILWAY_GIT_COMMIT_SHA}}

NEW_RELIC_LICENSE_KEY=${{NEW_RELIC_LICENSE_KEY}}
NEW_RELIC_APP_NAME=strike-shop-production
NEW_RELIC_LOG_LEVEL=warn

# Performance & Optimization
ENABLE_COMPRESSION=true
ENABLE_CACHING=true
ENABLE_RATE_LIMITING=true
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
ENABLE_QUERY_CACHING=true
QUERY_CACHE_TTL=300

# Security Headers
ENABLE_SECURITY_HEADERS=true
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true
CSP_DIRECTIVES="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://js.stripe.com; style-src 'self' 'unsafe-inline';"

# Feature Flags
ENABLE_FEATURE_FLAGS=true
LAUNCHDARKLY_SDK_KEY=${{LAUNCHDARKLY_SDK_KEY}}
FEATURE_NEW_CHECKOUT=true
FEATURE_WISHLIST=true
FEATURE_REVIEWS=true
FEATURE_SIZE_GUIDE=true

# Analytics
GOOGLE_ANALYTICS_ID=${{GA_MEASUREMENT_ID}}
GOOGLE_TAG_MANAGER_ID=${{GTM_ID}}
FACEBOOK_PIXEL_ID=${{FB_PIXEL_ID}}
MIXPANEL_TOKEN=${{MIXPANEL_TOKEN}}

# Backup Configuration
ENABLE_AUTOMATED_BACKUPS=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE="0 2,8,14,20 * * *"
BACKUP_S3_BUCKET=strike-shop-backups
BACKUP_ENCRYPTION=true

# Logging
LOG_LEVEL=warn
ENABLE_CONSOLE_LOGS=false
LOG_FORMAT=json
LOG_RETENTION_DAYS=90
PAPERTRAIL_HOST=${{PAPERTRAIL_HOST}}
PAPERTRAIL_PORT=${{PAPERTRAIL_PORT}}

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PORT=3001
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=30000
HEALTH_CHECK_RETRIES=3

# Worker Configuration
WORKER_CONCURRENCY=10
JOB_RETRY_LIMIT=3
JOB_RETRY_DELAY=60000
ENABLE_JOB_MONITORING=true

# Disaster Recovery
ENABLE_DISASTER_RECOVERY=true
DR_REGION=us-east-1
DR_SYNC_INTERVAL=300000
ENABLE_CROSS_REGION_REPLICATION=true